function openContent(e,t){console.log(event.target),0==t&&document.querySelector("#content-module-"+e).classList.toggle("show")}function fetchSingleItemContent(e){!async function(){var t=await fetch(`PHP/get_single_item.php?item_id=${e}`),n=await t.json();console.log(n),document.querySelector(".modal").innerHTML=`\n      <div class="go-back">\n          <i class="fas fa-angle-left fa-2x"></i>\n      </div>\n      <h1>${n[0].item_title}</h1>\n      <p>${n[0].item_content}</p>`,document.querySelector(".modal").classList.toggle("show-modal"),document.querySelector(".go-back").addEventListener("click",()=>{document.querySelector(".modal").classList.toggle("show-modal")})}()}function fetchTest(e,t,n){var o=test_template;console.log(e),async function(e){document.querySelector(".modal").classList.toggle("show-modal");var s=await fetch(`PHP/get_single_test_item.php?module_id=${e}`),a=await s.json(),c=a[0].test_item_id;console.log("test_item_id",a[0].test_item_id),o=(o=(o=(o=(o=o.replace("::Question::",a[0].question)).replace("::answer_A::",a[0].option_a)).replace("::answer_B::",a[0].option_b)).replace("::answer_C::",a[0].option_c)).replace("::answer_D::",a[0].option_d),document.querySelector(".modal").innerHTML=o,controlCheckboxes(),document.querySelector(".submit-btn").addEventListener("click",()=>{validateTheAnswer(a,t,n,c)})}(e)}function controlCheckboxes(){var e=document.querySelectorAll("#answer_A, #answer_B, #answer_C, #answer_D");e.forEach(t=>{console.log(t),t.addEventListener("input",()=>{e.forEach(e=>{t.id!==e.id&&(e.checked=!1)})})})}function validateTheAnswer(e,t,n,o){document.querySelectorAll("#answer_A, #answer_B, #answer_C, #answer_D").forEach(s=>{console.log(s.value,e[0].answer,s.checked),s.value==e[0].answer&&s.checked?(n?(document.querySelector(".modal .test-container").innerHTML='\n          <div class="test-icon">\n          <i class="fas fa-lock-open fa-5x"></i>\n          </div>\n          <div class="message"> \n          <p>Congratualtions your answer was correct you can move now to the next module <p> \n          </div>',document.querySelector("#header-module-"+n).setAttribute("onclick",`openContent(${n},0)`),document.querySelector("#header-module-"+n+" .lock").innerHTML='<i class="fas fa-lock-open"></i>',console.log(document.querySelector("#header-module-"+n))):document.querySelector(".modal .test-container").innerHTML='\n          <div class="test-icon">\n          <i class="fas fa-grin-stars fa-5x"></i>\n          </div>\n          <div class="message">\n          <p>Congratualtions! You have finished the course successfully!</p>\n          </div>',save_progress(t,o)):s.value!==e[0].answer&&s.checked&&(document.querySelector(".modal .test-container").innerHTML='\n        <div class="test-icon error-icon">\n        <i class="fas fa-times fa-5x"></i>\n        </div>\n        <div class="message"> \n        <p>Ups! That is not a correct ansver. Try to study a bit more and retake the test<p> \n        </div>')})}function save_progress(e,t){!async function(){var n=await fetch(`PHP/save_progress.php?course_id=${e}&test_item_id=${t}`);(await n.text()).includes("Duplicated test entry")&&(console.log("Duplicated test entry"),document.querySelector(".modal .test-container").innerHTML='\n        <div class="test-icon">\n        <i class="fas fa-lock-open fa-5x"></i>\n        </div>\n        <div class="message"> \n        <p> Correct! You have already passed this test successfully before <p> \n        </div>')}()}document.querySelector(".module-list-element-content").classList.add("show");